<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3600813755953882" crossorigin="anonymous"></script>
    <meta name="robots" content="max-image-preview:large">
    <title>ì „ìƒ ì§ì—… í…ŒìŠ¤íŠ¸ - ë‚˜ì˜ ì „ìƒì€? | Past Life Job Test</title>
    <meta name="description" content="10ë¬¸í•­ìœ¼ë¡œ ì•Œì•„ë³´ëŠ” ë‚˜ì˜ ì „ìƒ ì§ì—…! ê¸°ì‚¬ë‹¨ì¥, í•´ì  ì„ ì¥, ë¥´ë„¤ìƒìŠ¤ í™”ê°€... 8ê°€ì§€ ì „ìƒ ìœ í˜•ê³¼ ê¶í•©ê¹Œì§€. ì§€ê¸ˆ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!">
    <meta name="keywords" content="ì „ìƒ í…ŒìŠ¤íŠ¸, ì „ìƒ ì§ì—…, ì‹¬ë¦¬í…ŒìŠ¤íŠ¸, ì „ìƒ ê¶í•©, past life test, ì„±ê²© í…ŒìŠ¤íŠ¸, ë°”ì´ëŸ´ í…ŒìŠ¤íŠ¸">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="ì „ìƒ ì§ì—… í…ŒìŠ¤íŠ¸ - ë‚˜ì˜ ì „ìƒì€?">
    <meta property="og:description" content="10ë¬¸í•­ìœ¼ë¡œ ì•Œì•„ë³´ëŠ” ë‚˜ì˜ ì „ìƒ ì§ì—…! ê¸°ì‚¬ë‹¨ì¥, í•´ì  ì„ ì¥, ë¥´ë„¤ìƒìŠ¤ í™”ê°€... 8ê°€ì§€ ì „ìƒ ìœ í˜•ê³¼ ê¶í•©ê¹Œì§€.">
    <meta property="og:url" content="https://dopabrain.com/past-life/">
    <meta property="og:site_name" content="DopaBrain">
    <meta property="og:locale" content="ko_KR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ì „ìƒ ì§ì—… í…ŒìŠ¤íŠ¸ - ë‚˜ì˜ ì „ìƒì€?">
    <meta name="twitter:description" content="10ë¬¸í•­ìœ¼ë¡œ ì•Œì•„ë³´ëŠ” ë‚˜ì˜ ì „ìƒ ì§ì—…! 8ê°€ì§€ ì „ìƒ ìœ í˜•ê³¼ ê¶í•©ê¹Œì§€.">

    <!-- Schema.org -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "ì „ìƒ ì§ì—… í…ŒìŠ¤íŠ¸",
        "description": "10ë¬¸í•­ìœ¼ë¡œ ì•Œì•„ë³´ëŠ” ë‚˜ì˜ ì „ìƒ ì§ì—…! ê¸°ì‚¬ë‹¨ì¥, í•´ì  ì„ ì¥, ë¥´ë„¤ìƒìŠ¤ í™”ê°€... 8ê°€ì§€ ì „ìƒ ìœ í˜•ê³¼ ê¶í•©ê¹Œì§€.",
        "url": "https://dopabrain.com/past-life/",
        "applicationCategory": "EntertainmentApplication",
        "operatingSystem": "All",
        "offers": { "@type": "Offer", "price": "0", "priceCurrency": "KRW" },
        "inLanguage": "ko",
        "author": { "@type": "Organization", "name": "DopaBrain" }
    }
    </script>

    <!-- GA4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-J8GSWM40TV"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-J8GSWM40TV');
    </script>

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1a1420">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="icon" href="icon-192.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="icon-192.svg">

    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="app-container">
        <!-- Top Ad -->
        <div class="ad-banner" id="ad-top">AD AREA</div>

        <!-- ì–¸ì–´ ì„ íƒê¸° -->
        <div class="language-selector">
            <button class="lang-btn" id="lang-toggle" title="Select Language">ğŸŒ</button>
            <div class="lang-menu hidden" id="lang-menu">
                <button class="lang-option" data-lang="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</button>
                <button class="lang-option" data-lang="en">ğŸ‡ºğŸ‡¸ English</button>
                <button class="lang-option" data-lang="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</button>
                <button class="lang-option" data-lang="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</button>
                <button class="lang-option" data-lang="pt">ğŸ‡§ğŸ‡· PortuguÃªs</button>
                <button class="lang-option" data-lang="zh">ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡</button>
                <button class="lang-option" data-lang="id">ğŸ‡®ğŸ‡© Bahasa Indonesia</button>
                <button class="lang-option" data-lang="tr">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</button>
                <button class="lang-option" data-lang="de">ğŸ‡©ğŸ‡ª Deutsch</button>
                <button class="lang-option" data-lang="fr">ğŸ‡«ğŸ‡· FranÃ§ais</button>
                <button class="lang-option" data-lang="hi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</button>
                <button class="lang-option" data-lang="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
            </div>
        </div>

        <!-- Intro Screen -->
        <div class="screen active" id="screen-intro">
            <div class="intro-icon">ğŸ—¡ï¸</div>
            <h1 class="intro-title" data-i18n="intro.title">ì „ìƒ ì§ì—… í…ŒìŠ¤íŠ¸</h1>
            <p class="intro-subtitle" data-i18n="intro.subtitle">ë‹¹ì‹ ì€ ì „ìƒì— ì–´ë–¤ ì‚¶ì„ ì‚´ì•˜ì„ê¹Œìš”?<br>10ê°€ì§€ ì§ˆë¬¸ìœ¼ë¡œ ì•Œì•„ë³´ëŠ” ë‚˜ì˜ ì „ìƒ!</p>

            <!-- Trust & Urgency Signals -->
            <div class="intro-signals">
                <div class="signal-item">
                    <span class="signal-emoji">âš¡</span>
                    <span class="signal-text" data-i18n="intro.quickTest">2ë¶„ì— ì™„ë£Œ!</span>
                </div>
                <div class="signal-item pulse-highlight">
                    <span class="signal-emoji">ğŸ”¥</span>
                    <span class="signal-text"><span id="participant-count-num">50820</span><span data-i18n="intro.participantCount">+ ëª… ì™„ë£Œ</span></span>
                </div>
            </div>

            <div class="intro-tags">
                <span class="intro-tag" data-i18n="intro.tags.knight">ğŸ—¡ï¸ ê¸°ì‚¬</span>
                <span class="intro-tag" data-i18n="intro.tags.scholar">ğŸ“œ í•™ì</span>
                <span class="intro-tag" data-i18n="intro.tags.painter">ğŸ¨ í™”ê°€</span>
                <span class="intro-tag" data-i18n="intro.tags.pirate">ğŸ´â€â˜ ï¸ í•´ì </span>
                <span class="intro-tag" data-i18n="intro.tags.priest">ğŸ”® ì‚¬ì œ</span>
                <span class="intro-tag" data-i18n="intro.tags.explorer">ğŸ§­ íƒí—˜ê°€</span>
            </div>

            <button class="btn btn-primary btn-large" id="btn-start" data-i18n="intro.startButton">ì§€ê¸ˆ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
            <p class="intro-cta-sub" data-i18n="intro.ctaSub">ê²°ê³¼ëŠ” SNSì—ì„œ ê³µìœ  ê°€ëŠ¥í•©ë‹ˆë‹¤</p>
        </div>

        <!-- Quiz Screen -->
        <div class="screen" id="screen-quiz">
            <div class="progress-bar-wrap">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <div class="question-counter"><span id="question-current">1</span><span data-i18n="quiz.questionCounter"> / 10</span></div>
            <div class="question-text" id="question-text"></div>
            <div class="answers" id="answers"></div>
        </div>

        <!-- Loading Screen -->
        <div class="screen" id="screen-loading">
            <div class="loading-icon">ğŸ”®</div>
            <div class="loading-text" data-i18n="loading.mainText">ì „ìƒì˜ ê¸°ì–µì„ íƒìƒ‰ ì¤‘...</div>
            <div class="loading-sub" data-i18n="loading.subText">ì‹œê°„ì˜ íë¦„ì„ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ê³  ìˆìŠµë‹ˆë‹¤</div>
            <div class="loading-bar-wrap">
                <div class="loading-bar"></div>
            </div>
        </div>

        <!-- Result Screen -->
        <div class="screen" id="screen-result">
            <div class="result-label" data-i18n="result.label">ë‹¹ì‹ ì˜ ì „ìƒì€...</div>
            <div class="result-emoji" id="result-emoji"></div>
            <h2 class="result-type" id="result-type"></h2>
            <div class="result-era" id="result-era"></div>
            <p class="result-desc" id="result-desc"></p>
            <div class="result-quote" id="result-quote"></div>

            <!-- Stats -->
            <div class="result-stats">
                <div class="stat-card">
                    <span class="stat-label" data-i18n="result.strengthLabel">ê°•ì </span>
                    <div class="stat-value" id="result-strengths"></div>
                </div>
                <div class="stat-card">
                    <span class="stat-label" data-i18n="result.weaknessLabel">ì•½ì </span>
                    <div class="stat-value" id="result-weaknesses"></div>
                </div>
            </div>

            <!-- Compatibility -->
            <div class="compat-section">
                <div class="compat-title" data-i18n="result.compatibilityTitle">ì „ìƒ ê¶í•© TOP 3</div>
                <div class="compat-list" id="compat-list"></div>
            </div>

            <!-- Canvas Result Image -->
            <div class="result-image-wrap">
                <canvas id="resultCanvas"></canvas>
            </div>

            <!-- Buttons -->
            <div class="btn-group">
                <button class="btn btn-share" id="btn-share" data-i18n="buttons.share">ê²°ê³¼ ê³µìœ í•˜ê¸°</button>
                <button class="btn btn-secondary" id="btn-save" data-i18n="buttons.save">ì´ë¯¸ì§€ ì €ì¥</button>
            </div>

            <!-- Premium -->
            <div class="premium-section">
                <div class="premium-title" data-i18n="result.premiumTitle">ì „ìƒì˜ ìƒì„¸ ì´ì•¼ê¸°</div>
                <p class="premium-desc" data-i18n="result.premiumDesc">ë‹¹ì‹ ì˜ ì „ìƒì—ì„œ ì¼ì–´ë‚œ ë“œë¼ë§ˆí‹±í•œ ì´ì•¼ê¸°ì™€<br>í˜„ìƒì— ëŒ€í•œ ì¡°ì–¸ì„ í™•ì¸í•˜ì„¸ìš”</p>
                <button class="btn btn-gold" id="btn-premium" data-i18n="result.premiumButton">ìƒì„¸ ì´ì•¼ê¸° ë³´ê¸°</button>
                <div class="premium-content" id="premium-content">
                    <div class="premium-story" id="premium-story"></div>
                    <div class="premium-modern-title" data-i18n="result.modernLifeTitle">í˜„ìƒì—ì„œì˜ ë‹¹ì‹ </div>
                    <div class="premium-modern" id="premium-modern"></div>
                </div>
            </div>

            <!-- Recommend -->
            <div class="recommend-section">
                <div class="recommend-title" data-i18n="result.recommendTitle">ì´ê²ƒë„ í•´ë³´ì„¸ìš”</div>
                <div class="recommend-grid" id="recommend-list"></div>
            </div>

            <!-- Retry -->
            <div class="btn-group">
                <button class="btn btn-primary" id="btn-retry" data-i18n="buttons.retry">ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°</button>
            </div>
        </div>

        <!-- Bottom Ad -->
        <div class="ad-banner" id="ad-bottom">AD AREA</div>
    </div>

    <!-- Ad Overlay -->
    <div class="ad-overlay" id="ad-overlay">
        <p data-i18n="ad.waitText">ì ì‹œ í›„ ìƒì„¸ ì´ì•¼ê¸°ê°€ ê³µê°œë©ë‹ˆë‹¤</p>
        <div class="ad-countdown" id="ad-timer">5</div>
        <p>ê´‘ê³  ì˜ì—­</p>
    </div>

    <!-- Footer with Home Link -->
    <footer class="game-footer">
        <a href="https://dopabrain.com/portal/" class="back-link" data-i18n="game.back">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16"><path d="m15 18-6-6 6-6"></path></svg>
            DopaBrain í™ˆ
        </a>
    </footer>

    <script src="js/i18n.js"></script>
    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').catch(() => {});
        }

        // Initialize i18n system
        async function initI18nSystem() {
            try {
                await i18n.loadTranslations(i18n.getCurrentLanguage());
                i18n.updateUI();

                const langToggle = document.getElementById('lang-toggle');
                const langMenu = document.getElementById('lang-menu');
                const langOptions = document.querySelectorAll('.lang-option');

                if (langToggle && langMenu) {
                    document.querySelector(`[data-lang="${i18n.getCurrentLanguage()}"]`)?.classList.add('active');
                    langToggle.addEventListener('click', () => langMenu.classList.toggle('hidden'));
                    document.addEventListener('click', (e) => {
                        if (!e.target.closest('.language-selector')) langMenu?.classList.add('hidden');
                    });
                    langOptions.forEach(opt => {
                        opt.addEventListener('click', async () => {
                            await i18n.setLanguage(opt.getAttribute('data-lang'));
                            langOptions.forEach(o => o.classList.remove('active'));
                            opt.classList.add('active');
                            langMenu.classList.add('hidden');
                        });
                    });
                }
            } catch (e) {
                console.error('i18n initialization failed:', e);
            }
        }

        // Wait for DOM and then initialize i18n
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initI18nSystem);
        } else {
            initI18nSystem();
        }
    </script>
</body>
</html>
